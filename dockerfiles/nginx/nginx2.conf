events {
    worker_connections 1024;  # Default connection limit; consider increasing for high traffic
}

http {
    server {
        listen 80;                       # Listening for HTTP traffic
        server_name localhost;           # Substitute with your domain or IP address if necessary

        root /var/www/html;              # Path to your WordPress installation
        index index.php index.html;      # Default index files

        location / {
            try_files $uri $uri/ /index.php?$args;  # Fallback to index.php
        }

        location ~ \.php$ {
            include fastcgi_params;      # Include FastCGI parameters
            fastcgi_pass wordpress:80;   # Ensure the service name is correct
            fastcgi_index index.php;
            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;  # Set the script filename
        }

        # Optional: Custom error pages
        error_page 404 /404.html;
        location = /404.html {
            root /usr/share/nginx/html;  # Path to your custom error page
        }
    }
}

